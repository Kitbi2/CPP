# 特殊类设计

## 一、设计一个类不能被拷贝



## 二、设计一个只能在堆上的类

方案一：把析构函数私有化

要删除的话提供一个和删除有关的成员函数。

外部提供一个删除就好了

方案二：构造函数私有化

当然还有把拷贝构造禁止掉

外部提供一个new的操作就好

## 三、设计一个类，只能在栈上面。

和禁用delete一样，把new禁用。把构造私有，通过值返回去构造栈的对象。

## 四、不能被继承的类

私有构造函数，final修饰类。

# 单例模式

1.某一份资源只有一份

## 一、请设计一个使能创建一次的类

## 二、饿汉模式

优点：1.实现简单

缺点：1.可能会导致进程启动慢。全局的时候，main还没开始，你就要调用构造，如果你的构造有很多IO操作，OK，这个时候就会慢

​			2.如果说有俩个单例模式，并且俩个单例互相依赖，单例A启动，要用单例B，但是你不知道是先启动的。

1.提前（main函数启动的时）创建好

## 三、懒汉模式

1.需要的时候在创建出来

对于释放而言 ：而且在进程里面很少释放，进行一个智能指针的活动

如果说你要求析构的时候把数据写入到文件中去，但是因为你是new出来的，所以说只有delete才会析构